<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div style="margin-left: 50vw;">
  <button (click)="save()" style="width: 4vw;">Save</button>
  <button (click)="printReport()" style="width: 4vw; margin-left: 1vw;">Print</button>
</div>

<div id="print" style="background-color: white;">

  <div class="row" style="margin-top:5vh;">
    <div class="row no-gutters items-group" style="width:90%; ">
      <div class="col-2">
        <div class="row">
          <label style="font-size:medium; " for="pntn">Patient Name</label>
        </div>
        <div class="row">
          <label style="font-size:medium;" for="pntg">Guardian</label>
        </div>
        <div class="row">
          <label style="font-size:medium;" for="pntage">Age /Gender</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="pntmobile">Mobile</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="condoctor">Referred by</label>
        </div>
      </div>
      <div class="col-5">
        <div class="row">
          <label style="font-size:medium; " for="pntn">{{Students.pntn}} {{Students.PntName}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="pntn">{{Students.pntg}} {{Students.Pntgname}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="pntn">{{Students.pntage}} {{Students.pntyears}} /
            {{Students.pntsex}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="pntn">{{Students.pntmobile}}</label>
          <label style="font-size:medium; " for="pntn" *ngIf="Students.pntmobile == ''">-</label>
        </div>
        <div class="row">
          <label style="font-size:medium; " for="pntn">{{Students.condoctor}}</label>
        </div>
      </div>
      <div class="col">
        <div class="row">
          <label style="font-size:medium; ">Patient UHID</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">Test Registration No</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">Test Registration Date</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">Test Print Date</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">Lab Register ID</label>
        </div>

      </div>
      <div class="col">
        <div class="row">
          <label style="font-size:medium; ">{{Students.uhID}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">{{Students.vchrNo}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">{{Students.vchrDate}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">{{Students.vchrDate}}</label>
        </div>
        <div class="row">
          <label style="font-size:medium; ">{{Students.labid}}</label>
        </div>
      </div>

    </div>
  </div>
  <div class="row" style="margin-top:1vh;">
    <div class="row no-gutters items-group" style="width:90%; height:80%; margin-top: 1vh;">
      <table class="table table-stripped" style="border-color: white;">
        <thead>
          <th class="signature-field tbd"></th>
          <th class="signature-field">INVESTIGATIONS</th>
          <th class="signature-field">OBSERVED VALUE</th>
          <th class="signature-field">UNIT</th>
          <th class="signature-field">REFERENCE RANGE</th>
        </thead>
        <tbody>
          <ng-container *ngFor="let grp of this.groups;">
            <tr>
              <td colspan="4" style="padding-left: 45%;font-weight: bold;">{{grp.group_name}}</td>
            </tr>
            <ng-container *ngFor="let report of this.testreport; let i = index">
              <ng-container *ngIf="report.testgroup == grp.group_name && report.labid == 0">
                <tr *ngIf="!report.isDeleted" [attr.data-index]="i"
                  [ngStyle]="{'font-weight': this.testreport[i].Heading == 'MH' ? '500' : (this.testreport[i].Heading == 'SH' && this.testreport[i].subgroup.toLowerCase() == 'yes') ? '400' : 'normal' }">
                  <td class="tbd">
                    <ng-container>
                      <a><button class="btn"><i class="fa fa-times" type="button"
                            (click)="deleteTest(i)"></i></button></a>
                    </ng-container>
                    <!-- <ng-container *ngIf="this.testreport[i].Heading != 'MH' && report.subgroup.toLowerCase() != 'yes'">
                      <input type="checkbox" (change)="checked(i)">
                    </ng-container> -->
                  </td>
                  <td
                    [ngStyle]="{'padding-left': this.testreport[i].Heading == 'SH' ? '30px' : this.testreport[i].Heading == 'EH' ? '60px' : '0.5rem', 'font-weight': this.testreport[i].Heading == 'SH' ? 'normal' : this.testreport[i].Heading == 'EH' ? 'normal' : 'bold'}">
                    {{report.testname}}</td>
                  <ng-container *ngIf="report.Ipet != 'Y';">
                    <td>
                      <div class="user-box-big" style="margin-left: 3vw;"
                        *ngIf="!(((report.subgroup.toLowerCase() == 'yes') || report.Ipet == 'Y') || report.Wordcode != '')">
                        <input (keyup)="valueCheck(i)"
                          [ngStyle]="{'font-weight': !this.testreport[i].isNormal ? '1000' : '100'}" class="enterValue"
                          type="text" name="" required="" [(ngModel)]=report.value>
                        <label></label>
                      </div>
                      <div class="user-box-big" style="margin-left: 3vw;">
                        <select [ngStyle]="{'font-weight': !this.testreport[i].isNormal ? '1000' : '100'}"
                          (change)="valueCheck(i)" class="enterValue" [(ngModel)]=report.value
                          *ngIf="report.Wordcode != ''">
                          <option *ngFor="let test of labTestWord.get(report.Wordcode)">
                            {{test}}
                          </option>
                        </select>
                        <label></label>
                      </div>
                    </td>
                    <td>{{report.subunit}}</td>
                    <td>{{report.normalvalue}}</td>
                  </ng-container>
                  <ng-container *ngIf="report.Ipet == 'Y';">
                    <td [attr.colspan]="3">
                      <div class="row">
                        <div style="width: 97%;">
                          <div id="editor" [innerHTML]="report.interpet">
                          </div>
                        </div>
                        <div class="col tbd">
                          <a><button class="btn" (click)="this.openDialogI(i)"><i class="fa fa-pencil"></i></button>
                          </a>
                        </div>
                      </div>
                    </td>
                  </ng-container>
                </tr>
                <tr *ngIf="report.comt == 'Y'">
                  <td [attr.colspan]="4">
                    <div class="row">
                      <div style="width: 98%;">
                        <div id="editor" [innerHTML]="report.comments">
                        </div>
                      </div>
                      <div class="col tbd">
                        <a><button class="btn" (click)="this.openDialogC(i)"><i class="fa fa-pencil"></i></button> </a>
                      </div>
                    </div>
                  </td>
                </tr>
              </ng-container>

            </ng-container>
          </ng-container>

        </tbody>
      </table>
    </div>
    <div class="row">
      <br>
      <div class="disclaimer signature-field">
      </div>
      <p style="padding-left:40% ;">---------- End of Report ----------</p>
      <br><br>
      <br>
      <br>
    </div>
    <div class="row">
      <div class="col">
        <div style="margin-left: 25%;">
          <img src="assets\sig.jpg" style="width:120px;" id="icon" alt="User Icon" />
          <p>Dr. Paramvir Kaur</p>
          <p>MD. PATHOLOGY</p>
        </div>
      </div>

      <div class="col">
        <div style="margin-left: 10%;">
          <app-qrcode [url]="url"></app-qrcode>
        </div>
      </div>

      <div class="col">
        <div style="margin-left: 10%;">
          <img src="assets\sig1.jpg" style="width:120px;" id="icon" alt="User Icon" />
          <p>Dr. Anil Rastogi</p>
          <p>MBBS, D.R.R.D.(Radiologist)</p>
        </div>
      </div>
    </div>

    <div class="row">
      <br><br><br><br><br><br>

    </div>

  </div>
</div>